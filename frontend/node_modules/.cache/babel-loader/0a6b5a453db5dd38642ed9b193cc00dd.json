{"ast":null,"code":"import { csrfFetch } from \"./csrf\";\nconst GET_NOTEBOOKS = 'notebooks/GET_NOTEBOOKS';\n\nconst loadNotebooks = notebooks => ({\n  type: GET_NOTEBOOKS,\n  notes\n}); // thunk action creator for getting all notes\n\n\nexport const getAllNotebooks = () => async dispatch => {\n  const response = await csrfFetch('/api/notebooks');\n\n  if (response.ok) {\n    const notebooks = await response.json();\n    dispatch(loadNotebooks(notebooks));\n  }\n};\nconst initialState = {};\n\nconst notebookReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case GET_NOTEBOOKS:\n      const allNotebooks = {};\n      action.notebooks.forEach(notebook => {\n        allNotes[note.id] = note;\n      });\n      return { ...allNotes\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default noteReducer;","map":{"version":3,"names":["csrfFetch","GET_NOTEBOOKS","loadNotebooks","notebooks","type","notes","getAllNotebooks","dispatch","response","ok","json","initialState","notebookReducer","state","action","allNotebooks","forEach","notebook","allNotes","note","id","noteReducer"],"sources":["/Users/weiqi/Mod 5/solo-project/frontend/src/store/notebooks.js"],"sourcesContent":["import { csrfFetch } from \"./csrf\";\n\nconst GET_NOTEBOOKS = 'notebooks/GET_NOTEBOOKS'\n\nconst loadNotebooks = notebooks => ({\n  type: GET_NOTEBOOKS,\n  notes\n})\n\n// thunk action creator for getting all notes\nexport const getAllNotebooks = () => async dispatch => {\n  const response = await csrfFetch('/api/notebooks')\n\n  if (response.ok) {\n    const notebooks = await response.json();\n    dispatch(loadNotebooks(notebooks))\n  }\n}\n\nconst initialState = {}\n\nconst notebookReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case GET_NOTEBOOKS:\n      const allNotebooks = {};\n      action.notebooks.forEach(notebook => {\n        allNotes[note.id] = note\n      })\n      return {\n        ...allNotes\n      }\n    default:\n      return state;\n  }\n}\n\nexport default noteReducer\n"],"mappings":"AAAA,SAASA,SAAT,QAA0B,QAA1B;AAEA,MAAMC,aAAa,GAAG,yBAAtB;;AAEA,MAAMC,aAAa,GAAGC,SAAS,KAAK;EAClCC,IAAI,EAAEH,aAD4B;EAElCI;AAFkC,CAAL,CAA/B,C,CAKA;;;AACA,OAAO,MAAMC,eAAe,GAAG,MAAM,MAAMC,QAAN,IAAkB;EACrD,MAAMC,QAAQ,GAAG,MAAMR,SAAS,CAAC,gBAAD,CAAhC;;EAEA,IAAIQ,QAAQ,CAACC,EAAb,EAAiB;IACf,MAAMN,SAAS,GAAG,MAAMK,QAAQ,CAACE,IAAT,EAAxB;IACAH,QAAQ,CAACL,aAAa,CAACC,SAAD,CAAd,CAAR;EACD;AACF,CAPM;AASP,MAAMQ,YAAY,GAAG,EAArB;;AAEA,MAAMC,eAAe,GAAG,YAAkC;EAAA,IAAjCC,KAAiC,uEAAzBF,YAAyB;EAAA,IAAXG,MAAW;;EACxD,QAAQA,MAAM,CAACV,IAAf;IACE,KAAKH,aAAL;MACE,MAAMc,YAAY,GAAG,EAArB;MACAD,MAAM,CAACX,SAAP,CAAiBa,OAAjB,CAAyBC,QAAQ,IAAI;QACnCC,QAAQ,CAACC,IAAI,CAACC,EAAN,CAAR,GAAoBD,IAApB;MACD,CAFD;MAGA,OAAO,EACL,GAAGD;MADE,CAAP;;IAGF;MACE,OAAOL,KAAP;EAVJ;AAYD,CAbD;;AAeA,eAAeQ,WAAf"},"metadata":{},"sourceType":"module"}