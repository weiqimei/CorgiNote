{"ast":null,"code":"import { csrfFetch } from \"./csrf\";\nconst GET_NOTES = 'notes/GET_NOTES';\nconst ADD_NOTE = 'notes/ADD_NOTE';\n\nconst loadNotes = notes => ({\n  type: GET_NOTES,\n  notes\n});\n\nconst addNote = note => {\n  return {\n    type: ADD_NOTE,\n    note\n  };\n}; // thunk action creator for getting all notes\n\n\nexport const getAllNotes = () => async dispatch => {\n  const response = await csrfFetch('api/notes');\n\n  if (response.ok) {\n    const notes = await response.json();\n    dispatch(loadNotes(notes));\n  }\n}; // thunk action creator for creating a note\n\nexport const createNote = data => async dispatch => {\n  const response = await csrfFetch('api/notes', {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  });\n  const note = await response.json();\n  dispatch(addNote(note));\n  return note;\n};\nconst initialState = {};\n\nconst noteReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case GET_NOTES:\n      const allNotes = {};\n      action.notes.forEach(note => {\n        allNotes[note.id] = note;\n      });\n      return { ...allNotes\n      };\n\n    case ADD_NOTE:\n      if (!state[action.note.id]) {\n        const newState = { ...state,\n          [action.note.id]: action.note\n        };\n        return newState;\n      }\n\n      break;\n\n    default:\n      return state;\n  }\n};\n\nexport default noteReducer;","map":{"version":3,"names":["csrfFetch","GET_NOTES","ADD_NOTE","loadNotes","notes","type","addNote","note","getAllNotes","dispatch","response","ok","json","createNote","data","method","headers","body","JSON","stringify","initialState","noteReducer","state","action","allNotes","forEach","id","newState"],"sources":["/Users/weiqi/Mod 5/solo-project/frontend/src/store/notes.js"],"sourcesContent":["import { csrfFetch } from \"./csrf\";\n\nconst GET_NOTES = 'notes/GET_NOTES'\nconst ADD_NOTE = 'notes/ADD_NOTE'\n\nconst loadNotes = notes => ({\n  type: GET_NOTES,\n  notes\n})\n\nconst addNote = (note) => {\n  return {\n    type: ADD_NOTE,\n    note\n  }\n}\n\n// thunk action creator for getting all notes\nexport const getAllNotes = () => async dispatch => {\n  const response = await csrfFetch('api/notes')\n\n  if (response.ok) {\n    const notes = await response.json();\n    dispatch(loadNotes(notes))\n  }\n}\n\n// thunk action creator for creating a note\nexport const createNote = (data) => async dispatch => {\n  const response = await csrfFetch('api/notes', {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  })\n  const note = await response.json();\n\n  dispatch(addNote(note))\n\n  return note\n}\n\nconst initialState = {}\n\nconst noteReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case GET_NOTES:\n      const allNotes = {};\n      action.notes.forEach(note => {\n        allNotes[note.id] = note\n      })\n      return {\n        ...allNotes\n      }\n    case ADD_NOTE:\n      if (!state[action.note.id]) {\n        const newState = {\n          ...state,\n          [action.note.id]: action.note\n        }\n        return newState\n      }\n      break\n    default:\n      return state;\n  }\n}\n\nexport default noteReducer\n"],"mappings":"AAAA,SAASA,SAAT,QAA0B,QAA1B;AAEA,MAAMC,SAAS,GAAG,iBAAlB;AACA,MAAMC,QAAQ,GAAG,gBAAjB;;AAEA,MAAMC,SAAS,GAAGC,KAAK,KAAK;EAC1BC,IAAI,EAAEJ,SADoB;EAE1BG;AAF0B,CAAL,CAAvB;;AAKA,MAAME,OAAO,GAAIC,IAAD,IAAU;EACxB,OAAO;IACLF,IAAI,EAAEH,QADD;IAELK;EAFK,CAAP;AAID,CALD,C,CAOA;;;AACA,OAAO,MAAMC,WAAW,GAAG,MAAM,MAAMC,QAAN,IAAkB;EACjD,MAAMC,QAAQ,GAAG,MAAMV,SAAS,CAAC,WAAD,CAAhC;;EAEA,IAAIU,QAAQ,CAACC,EAAb,EAAiB;IACf,MAAMP,KAAK,GAAG,MAAMM,QAAQ,CAACE,IAAT,EAApB;IACAH,QAAQ,CAACN,SAAS,CAACC,KAAD,CAAV,CAAR;EACD;AACF,CAPM,C,CASP;;AACA,OAAO,MAAMS,UAAU,GAAIC,IAAD,IAAU,MAAML,QAAN,IAAkB;EACpD,MAAMC,QAAQ,GAAG,MAAMV,SAAS,CAAC,WAAD,EAAc;IAC5Ce,MAAM,EAAE,MADoC;IAE5CC,OAAO,EAAE;MACP,gBAAgB;IADT,CAFmC;IAK5CC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,IAAf;EALsC,CAAd,CAAhC;EAOA,MAAMP,IAAI,GAAG,MAAMG,QAAQ,CAACE,IAAT,EAAnB;EAEAH,QAAQ,CAACH,OAAO,CAACC,IAAD,CAAR,CAAR;EAEA,OAAOA,IAAP;AACD,CAbM;AAeP,MAAMa,YAAY,GAAG,EAArB;;AAEA,MAAMC,WAAW,GAAG,YAAkC;EAAA,IAAjCC,KAAiC,uEAAzBF,YAAyB;EAAA,IAAXG,MAAW;;EACpD,QAAQA,MAAM,CAAClB,IAAf;IACE,KAAKJ,SAAL;MACE,MAAMuB,QAAQ,GAAG,EAAjB;MACAD,MAAM,CAACnB,KAAP,CAAaqB,OAAb,CAAqBlB,IAAI,IAAI;QAC3BiB,QAAQ,CAACjB,IAAI,CAACmB,EAAN,CAAR,GAAoBnB,IAApB;MACD,CAFD;MAGA,OAAO,EACL,GAAGiB;MADE,CAAP;;IAGF,KAAKtB,QAAL;MACE,IAAI,CAACoB,KAAK,CAACC,MAAM,CAAChB,IAAP,CAAYmB,EAAb,CAAV,EAA4B;QAC1B,MAAMC,QAAQ,GAAG,EACf,GAAGL,KADY;UAEf,CAACC,MAAM,CAAChB,IAAP,CAAYmB,EAAb,GAAkBH,MAAM,CAAChB;QAFV,CAAjB;QAIA,OAAOoB,QAAP;MACD;;MACD;;IACF;MACE,OAAOL,KAAP;EAnBJ;AAqBD,CAtBD;;AAwBA,eAAeD,WAAf"},"metadata":{},"sourceType":"module"}